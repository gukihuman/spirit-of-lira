"use strict";const e=require("electron"),c=require("child_process"),a=require("url"),t=require("path");let n,r;async function i(){n=new e.BrowserWindow({width:1280,height:720,backgroundColor:"#1e293b",webPreferences:{nodeIntegration:!0}});const s=t.dirname(a.fileURLToPath(typeof document>"u"?new(require("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href)),o=t.join(s,"../.output/server/index.mjs");console.log(o),r=c.spawn("node",[o],{env:{...process.env,PORT:"3120"},stdio:"inherit"}),setTimeout(()=>{n.loadURL("http://localhost:3120"),n.webContents.openDevTools()},3e3)}e.app.whenReady().then(i).then(()=>{e.Menu.setApplicationMenu(null)});e.app.on("window-all-closed",()=>{r.kill(),process.platform!=="darwin"&&e.app.quit()});e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&i()});
